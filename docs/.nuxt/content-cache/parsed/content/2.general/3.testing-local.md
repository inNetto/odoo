{"parsed":{"_path":"/general/testing-local","_dir":"general","_draft":false,"_partial":false,"_locale":"","title":"Testing local","description":"In this section you will find everything you need to build our entire environment to do a deeper test on Alokai + ODOO and make sure if our integration is what you has been looking for. We hope it is ðŸ˜‡","layout":"default","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"integration-test"},"children":[{"type":"text","value":"Integration test"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"In this section you will find everything you need to build our entire environment to do a deeper test on Alokai + ODOO and make sure if our integration is what you has been looking for. We hope it is ðŸ˜‡"}]}]},{"type":"element","tag":"h1","props":{"id":"video-tutorial"},"children":[{"type":"text","value":"Video tutorial"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now you can watch and follow the steps in this video tutorial. Take your time :thumbsup:"}]},{"type":"element","tag":"iframe","props":{"width":560,"height":315,"src":"https://www.youtube.com/embed/Je3lN4H9LDo","title":"Vue Storefront to Alokai journey with Odoo","frameBorder":"0","allow":"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerPolicy":"strict-origin-when-cross-origin","allowFullScreen":true},"children":[]},{"type":"element","tag":"h2","props":{"id":"before-you-start"},"children":[{"type":"text","value":"Before you start"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pre-requisites: Docker, Node.js (>=14.19.0), npm or similar and Git."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Last odoo "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"version"}]},{"type":"text","value":" released: Clone the repo from ("},{"type":"element","tag":"a","props":{"href":"https://github.com/odoogap/vuestorefront-docker","rel":["nofollow"]},"children":[{"type":"text","value":"https://github.com/odoogap/vuestorefront-docker"}]},{"type":"text","value":")"}]},{"type":"element","tag":"h3","props":{"id":"inside-the-repo"},"children":[{"type":"text","value":"Inside the repo"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Its really convenient to test all the ecosystem Vuestorefront - Odoo Integration working in your local machine. We have prepared a docker-compose file that will help you to get started in a few minutes."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Inside the repo downloaded you can find the 17.0 package that contains a startup file "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"startup.sh"}]},{"type":"text","value":" bash script. It basically detects if "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"mount/extra-addons/graphql_vuestorefront"}]},{"type":"text","value":" exists or not then its going to clone the odoo alokai modules that you can also find at "},{"type":"element","tag":"a","props":{"href":"https://github.com/odoogap/vuestorefront.git","rel":["nofollow"]},"children":[{"type":"text","value":"https://github.com/odoogap/vuestorefront.git"}]}]},{"type":"element","tag":"h2","props":{"id":"installation"},"children":[{"type":"text","value":"Installation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First of all we should understand what's inside the docker-compose file. We have 4 services:\n"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"ðŸŽ¯ You can go deeper "},{"type":"element","tag":"a","props":{"href":"/configuration/docker-compose.md#links"},"children":[{"type":"text","value":"Configuration > docker-compose"}]},{"type":"text","value":" ."}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Redis"}]},{"type":"text","value":": Redis is an open source (BSD licensed), in-memory data structure store, used as a database, cache and message broker. It's used by Alokai to store the cache."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"db"}]},{"type":"text","value":": PostgreSQL database used by Odoo."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"odoo"}]},{"type":"text","value":": Odoo service. This is our backend service that you could use to manage your products, orders, etc."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Alokai"}]},{"type":"text","value":": Here is our front end integrated to Alokai Storefront."}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes one-dark-pro","code":"docker-compose up --build -d\n# You might want to check what happens under the hood\ndocker-compose logs -f\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#61AFEF"},"children":[{"type":"text","value":"docker-compose"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#98C379"},"children":[{"type":"text","value":" up"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D19A66"},"children":[{"type":"text","value":" --build"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D19A66"},"children":[{"type":"text","value":" -d\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#7F848E;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"# You might want to check what happens under the hood\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#61AFEF"},"children":[{"type":"text","value":"docker-compose"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#98C379"},"children":[{"type":"text","value":" logs"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D19A66"},"children":[{"type":"text","value":" -f\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ðŸŽ¯ "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"If you use Docker Desktop on Windows, some .sh files are executed during instalation, so we recommend you to read"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://docs.docker.com/docker-for-windows/wsl/","rel":["nofollow"]},"children":[{"type":"text","value":"Docker Desktop Documentation"}]},{"type":"text","value":" ."}]},{"type":"element","tag":"h2","props":{"id":"after-installation"},"children":[{"type":"text","value":"After installation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now just open "},{"type":"element","tag":"a","props":{"href":"http://localhost:3000","rel":["nofollow"]},"children":[{"type":"text","value":"http://localhost:3000"}]},{"type":"text","value":" for Alokai and "},{"type":"element","tag":"a","props":{"href":"http://localhost:8069","rel":["nofollow"]},"children":[{"type":"text","value":"http://localhost:8069"}]},{"type":"text","value":" for local Odoo (credentials admin/admin)"}]},{"type":"element","tag":"warning","props":{},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You might not see the top categories (MEN/WOMEN) until the Odoo server is initialized (database init takes time to install all modules)"}]}]},{"type":"element","tag":"h2","props":{"id":"tips"},"children":[{"type":"text","value":"Tips"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"How to stop the services?"}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes one-dark-pro","code":"docker-compose stop\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#61AFEF"},"children":[{"type":"text","value":"docker-compose"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#98C379"},"children":[{"type":"text","value":" stop\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"How to clear Odoo database?"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Running this command below it will stop all docker services and clears the Odoo local database."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes one-dark-pro","code":"docker-compose down -v\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#61AFEF"},"children":[{"type":"text","value":"docker-compose"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#98C379"},"children":[{"type":"text","value":" down"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D19A66"},"children":[{"type":"text","value":" -v\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Handle caching with Redis"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"REDIS_ENABLED=true"}]},{"type":"text","value":" into .env file ensure that Redis is enabled to be used. It is used to cache all odoo datas that has been accessed by the browser. Running this command below it will clear the Redis database."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes one-dark-pro","code":"docker exec -it redis redis-cli\n127.0.0.1:6379> flushall\nOK\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#61AFEF"},"children":[{"type":"text","value":"docker"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#98C379"},"children":[{"type":"text","value":" exec"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D19A66"},"children":[{"type":"text","value":" -it"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#98C379"},"children":[{"type":"text","value":" redis"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#98C379"},"children":[{"type":"text","value":" redis-cli\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#61AFEF"},"children":[{"type":"text","value":"127.0.0.1:6379>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#98C379"},"children":[{"type":"text","value":" flushall\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#61AFEF"},"children":[{"type":"text","value":"OK\n"}]}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":5,"depth":2,"links":[{"id":"before-you-start","depth":2,"text":"Before you start","children":[{"id":"inside-the-repo","depth":3,"text":"Inside the repo"}]},{"id":"installation","depth":2,"text":"Installation"},{"id":"after-installation","depth":2,"text":"After installation"},{"id":"tips","depth":2,"text":"Tips"}]}},"_type":"markdown","_id":"content:2.general:3.testing-local.md","_source":"content","_file":"2.general/3.testing-local.md","_extension":"md","sitemap":{"loc":"/general/testing-local"}},"hash":"45vHDieCL2"}